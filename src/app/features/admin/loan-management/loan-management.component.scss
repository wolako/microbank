@import '../../../../assets/variables';

.loan-manager-page {
  padding: $spacing-unit;

  h3 {
    margin-bottom: $spacing-unit * 2;
    color: $primary-color;
    font-weight: 600;
  }

  form {
    .form-label {
      font-weight: 500;
    }

    .form-control,
    .form-select {
      border-radius: $border-radius;
      border: 1px solid $border-color;
      padding: $spacing-half $spacing-unit;
      transition: $transition;

      &:focus {
        border-color: $primary-color;
        box-shadow: 0 0 0 0.2rem rgba($primary-color, 0.25);
      }
    }

    .btn {
      border-radius: $border-radius * 2;
      font-weight: 600;
      transition: $transition;

      &:hover {
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      }
    }
  }

  // Tableau responsive mobile-first
  .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;

    table {
      width: 100%;
      border-collapse: collapse;

      th, td {
        padding: $spacing-half $spacing-unit;
        border: 1px solid $border-color;
        font-size: 0.9rem;
        text-align: left;
      }

      th {
        background-color: $light-card-bg;
        color: $text-primary;
      }

      tr:hover {
        background-color: lighten($primary-light, 45%);
        transition: $transition;
      }

      .badge {
        text-transform: capitalize;
      }

      // MOBILE-FIRST : transformer en carte
      @media (max-width: $breakpoint-md) {
        display: block;
        thead, tbody, th, td, tr {
          display: block;
          width: 100%;
        }

        thead {
          display: none;
        }

        tr {
          margin-bottom: $spacing-unit;
          border: 1px solid $border-color;
          border-radius: $border-radius;
          padding: $spacing-half;
          background-color: $light-card-bg;

          td {
            display: flex;
            justify-content: space-between;
            padding: $spacing-half $spacing-unit;

            &::before {
              content: attr(data-label);
              font-weight: 600;
              color: $text-secondary;
            }

            span.badge {
              flex-shrink: 0;
            }
          }
        }
      }
    }
  }

  p.text-muted {
    text-align: center;
    margin-top: $spacing-unit;
  }

  .d-flex {
    flex-wrap: wrap;
    gap: $spacing-half;

    button {
      min-width: 50px;
    }
  }

  .modal-dialog {
    max-width: 95%;
  }

  // Dark mode
  &.dark-mode {
    background-color: $color-dark-bg;
    color: $color-dark-section-text;

    h3 {
      color: $color-dark-primary;
    }

    form {
      .form-label {
        color: $color-dark-section-text;
      }

      .form-control,
      .form-select {
        background-color: darken($color-dark-section-bg, 5%);
        color: $color-dark-section-text;
        border: 1px solid lighten($color-dark-section-text, 40%);
      }

      .btn {
        color: $color-dark-btn-text;
        background-color: $color-dark-primary;

        &:hover {
          background-color: lighten($color-dark-primary, 5%);
        }
      }
    }

    .table-responsive {
      table {
        tr {
          background-color: $color-dark-card-bg;

          td {
            color: $color-dark-section-text;
            border-color: lighten($color-dark-section-text, 40%);
          }

          &:hover {
            background-color: darken($color-dark-section-bg, 5%);
          }
        }

        th {
          background-color: $color-dark-card-bg;
        }
      }
    }
  }
}
