<div class="loan-calculator" [@slideIn]>
  <form [formGroup]="loanForm" (ngSubmit)="calculateLoan()" class="calculator-form">
    <div class="form-group">
      <label for="amount">Montant du prêt</label>
      <div class="input-group">
        <span class="input-group-text">XOF</span>

        <input type="range"
               id="amount"
               formControlName="amount"
               [min]="minAmount"
               [max]="maxAmount"
               (input)="$event.stopPropagation()">

        <input type="number"
               class="form-control"
               formControlName="amount"
               [min]="minAmount"
               [max]="maxAmount">
      </div>

      <div class="range-labels">
        <span>{{ minAmount | number }}</span>
        <span>{{ maxAmount | number }}</span>
      </div>
    </div>

    <div class="form-group">
      <label for="term">Durée (mois)</label>
      <div class="input-group">
        <input type="range"
               id="term"
               formControlName="term"
               [min]="minTerm"
               [max]="maxTerm"
               (input)="$event.stopPropagation()">

        <input type="number"
               class="form-control"
               formControlName="term"
               [min]="minTerm"
               [max]="maxTerm">
      </div>
      <div class="range-labels">
        <span>{{ minTerm }} mois</span>
        <span>{{ maxTerm }} mois</span>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="loanForm.invalid">
      Calculer
    </button>
  </form>

  <div class="calculator-results" *ngIf="showResults && monthlyPayment !== null">
    <div class="result-item">
      <span>Paiement mensuel:</span>
      <strong>{{ monthlyPayment | currency:'XOF':'symbol':'1.0-0' }}</strong>
    </div>
    <div class="result-item">
      <span>Total des intérêts:</span>
      <strong>{{ totalInterest | currency:'XOF':'symbol':'1.0-0' }}</strong>
    </div>
    <div class="result-item">
      <span>Total à rembourser:</span>
      <strong>{{ totalPayment | currency:'XOF':'symbol':'1.0-0' }}</strong>
    </div>
  </div>
</div>
